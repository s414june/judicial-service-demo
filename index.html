<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="./Resources/System/Styles/bootstrap/bootstrap.min.css">
    <script src="./Resources/System/Scripts/bootstrap/bootstrap.min.js"></script>
    <script src="./Resources/System/Scripts/jquery/jquery-3.6.0.min.js"></script>
    <script src="./Resources/package/font-awesome/fontawesome.min.js"></script>
    <script src="./Resources/System/Scripts/moment/moment@2.27.0.js"></script>

    <script src="./Resources/Scripts/cardScroll.js"></script>
    <script src="./Resources/Scripts/msgObj.js"></script>
    <script src="./Resources/Scripts/msgEvent.js"></script>

    <link rel="stylesheet" href="./Resources/Styles/style.css">
    <title>司法院客服小幫手</title>
</head>
<style>

</style>

<body>
    <header>
        <div id="titleOutside">
            <h5 id="title">司法院客服小幫手</h5>
            <div class="info-icon">
                <svg width="11" height="30" viewBox="0 0 11 30" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M2.68 2.68C2.68 2.17333 2.96 1.61333 3.52 0.999998C4.10667 0.359998 4.64 0.0399985 5.12 0.0399985C5.62667 0.0399985 6.17333 0.346665 6.76 0.959999C7.34667 1.57333 7.64 2.14667 7.64 2.68C7.64 3.18666 7.34667 3.74666 6.76 4.36C6.17333 4.97333 5.62667 5.28 5.12 5.28C4.66667 5.28 4.14667 4.97333 3.56 4.36C2.97333 3.74666 2.68 3.18666 2.68 2.68ZM6.92 25.48C6.92 26.3867 7.32 26.84 8.12 26.84C8.78667 26.84 9.45333 26.56 10.12 26L10.88 27.04C10.1867 27.8133 9.44 28.4267 8.64 28.88C7.84 29.3333 7.09333 29.56 6.4 29.56C5.30667 29.56 4.52 29.2267 4.04 28.56C3.56 27.8933 3.32 26.8133 3.32 25.32V12.92C3.32 12.6 3.25333 12.3733 3.12 12.24C3.01333 12.1067 2.81333 12.04 2.52 12.04H0.76L0.4 11C1.17333 10.3067 2.05333 9.73333 3.04 9.28C4.02667 8.82666 4.90667 8.6 5.68 8.6C6.05333 8.6 6.36 8.72 6.6 8.96C6.84 9.2 6.96 9.50667 6.96 9.88L6.92 25.48Z"
                        fill="#E16038" />
                </svg>
            </div>
        </div>
        <div class="alert alert-warning alert-dismissible fade show info-place" role="alert">
            <ul>
                <li>
                    <p>
                        歡迎使用司法院智慧客服，使用說明及注意事項請參閱：
                        <a href="#">司法院智慧客服使用說明</a>。
                    </p>
                    <p>
                        為保護您的權益，請詳細閱讀
                        <a href="https://www.judicial.gov.tw/tw/cp-1327-115320-d64f0-1.html"
                            target="_blank">隱私權宣告及資訊安全政策</a>
                        ，當問題送出時，即視同您已充分了解與同意。
                    </p>
                </li>
            </ul>
            <!-- <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button> -->
            <button type="button" class="btn btn-outline-warning" aria-label="Close">關閉</button>
        </div>
    </header>
    <section id="main">
        <div id="msgPlace">
            <div class="service-place position-relative w-100">
                <div class="head-img">
                    <img src="./Resources/Images/service-head.png" alt="司法院客服頭貼">
                </div>
                <div class="msg-outside mx-md-5 ms-5 position-relative">
                    <div class="msg mx-md-4 ms-4">
                        <p>
                            您好，我是司法院客服小幫手，目前我可以協助您取得想要的書狀範例或是回答常見問題~ (
                            建議使用Chrome或Edge瀏覽器，解析度在1920*1080時，可獲得最佳瀏覽體驗，其他注意事項請參見：點我開啟 )
                        </p>
                        <p>
                            您可以試著這樣問：
                        </p>
                        <hr>
                        <ul>
                            <li>我想要閱卷</li>
                            <li>發生車禍怎麼辦</li>
                        </ul>
                    </div>
                    <!-- <span class="d-flex mx-md-4 align-items-center response-place">
                        您是否滿意本次回答：
                        <button class="btn btn-outline-dark btn-sm res-great my-2 me-1">
                            <img src="./Resources/Images/great.svg" alt="滿意">
                            滿意
                        </button>
                        <button class="btn btn-outline-dark btn-sm res-bad my-2">
                            <img src="./Resources/Images/great.svg" alt="不滿意">
                            不滿意
                        </button>
                    </small> -->
                    <div class="msg-datetime ms-4 mt-2">2022/03/14 13:27:40</div>
                </div>
                <div class="recommend-outside position-relative mx-md-2">
                    <div class="goto-left-btn">
                        <i class="fa-solid fa-chevron-left text-primary"></i>
                    </div>
                    <div class="recommend-cards mx-md-4 mx-md-3">
                        <div class="position-relative d-flex cards-outside py-1">
                            <div class="card rec-card">
                                <div class="card-img-top"
                                    style="background-image: url('./Resources/Images/card1.jpg');"></div>
                                <!-- <img src="./Resources/Images/card1.jpg" class="card-img-top" alt="常見問題"> -->
                                <div class="card-body">
                                    <h5 class="card-title">常見問題</h5>
                                    <p><a href="javascript:void(0)" class="rec-target">各法院資訊</a></p>
                                    <p><a href="javascript:void(0)" class="rec-target">公證與認證</a></p>
                                    <p><a href="javascript:void(0)" class="rec-target">現行繼承方式規定</a></p>
                                </div>
                            </div>
                            <div class="card rec-card">
                                <div class="card-img-top"
                                    style="background-image: url('./Resources/Images/card2.jpg');"></div>
                                <div class="card-body">
                                    <h5 class="card-title">書狀範例下載</h5>
                                    <p><a href="javascript:void(0)" class="rec-target">陳報/陳明/聲明狀範例下載</a></p>
                                    <p><a href="javascript:void(0)" class="rec-target">撤回狀範例下載</a></p>
                                    <p><a href="javascript:void(0)" class="rec-target">答辯狀範例下載</a></p>
                                </div>
                            </div>
                            <div class="card rec-card">
                                <div class="card-img-top"
                                    style="background-image: url('./Resources/Images/card3.jpg');"></div>
                                <div class="card-body">
                                    <h5 class="card-title">國民法官</h5>
                                    <p><a href="javascript:void(0)" class="rec-target">國民法官資格</a></p>
                                    <p><a href="javascript:void(0)" class="rec-target">國民法官職權</a></p>
                                    <p><a href="javascript:void(0)" class="rec-target">國民法官選任程序</a></p>
                                </div>
                            </div>
                            <div class="card rec-card">
                                <div class="card-img-top"
                                    style="background-image: url('./Resources/Images/card4.jpg');"></div>
                                <div class="card-body">
                                    <h5 class="card-title">便民服務</h5>
                                    <p><a href="javascript:void(0)" class="rec-target">調閱電子筆錄</a></p>
                                    <p><a href="javascript:void(0)" class="rec-target">聯合服務中心</a></p>
                                    <p><a href="javascript:void(0)" class="rec-target">多元化繳費服務</a></p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class=" goto-right-btn">
                        <i class="fa-solid fa-chevron-right text-primary"></i>
                    </div>
                </div>
            </div>
            <!-- <div class="user-place">
                <div class="msg-outside">
                    <div class="msg">
                        <p>公證與認證</p>
                    </div>
                </div>
            </div> -->


            <!-- <div class="service-place position-relative w-100">
                <div class="head-img"></div>
                <div class="msg-outside mx-5 position-relative">
                    <div class="msg mx-4">
                        <p><strong> 公證與認證相關事項：</strong></p>
                        <ol>
                            <li><strong>介紹及應備文件：</strong>請點選下面按鈕→
                                公證與認證介紹
                            </li>
                            <li><strong>費用：</strong>請點選下面按鈕→
                                <br>(1)公證費用
                                <br>(2)公證費用超過新臺幣50萬元不需申報
                            </li>
                            <li><strong>委託：</strong>請點選下面按鈕→
                                公證委託代理人
                            </li>
                            <li><strong>資格：</strong>請點選下面按鈕→
                                <br>(1)辦理公證當事人資格及條件限制
                                <br>(2)公、認證程序的見證人資格
                            </li>
                            <li><strong>閱覽或抄錄：</strong>請點選下面按鈕→
                                閱覽或抄錄他人的公認證文件
                            </li>
                            <li><strong>文件文書公、認證：</strong>請點選下面按鈕→
                                各類文件、文書辦理公證或認證
                            </li>
                        </ol>
                    </div>
                    <span class="msg-datetime mx-4">2022/03/14 13:27:40</small>
                    <div class="recommend-outside position-relative">
                        <div class="goto-left-btn">
                            <i class="fa-solid fa-chevron-left text-primary"></i>
                        </div>
                        <div class="recommend-cards mx-4">
                            <div class="position-relative d-flex cards-outside">
                                <div class="small-card rec-card"><a href="javascript:void(0)">公證與認證介紹</a></div>
                                <div class="small-card rec-card"><a href="javascript:void(0)">公證費用</a></div>
                                <div class="small-card rec-card"><a href="javascript:void(0)">公證費用超過新臺幣50萬元不需申報</a></div>
                                <div class="small-card rec-card"><a href="javascript:void(0)">辦理公證當事人資格及條件限制</a></div>
                                <div class="small-card rec-card"><a href="javascript:void(0)">公、認證程序的見證人資格</a></div>
                                <div class="small-card rec-card"><a href="javascript:void(0)">閱覽或抄錄他人的公認證文件</a></div>
                                <div class="small-card rec-card"><a href="javascript:void(0)">各類文件辦理公證或認證</a></div>
                                <div class="small-card rec-card"><a href="javascript:void(0)">文件認證轄區限制</a></div>
                                <div class="small-card rec-card"><a href="javascript:void(0)">特定交易公證及申報</a></div>
                            </div>
                        </div>
                        <div class=" goto-right-btn">
                            <i class="fa-solid fa-chevron-right text-primary"></i>
                        </div>
                    </div>
                </div>
            </div> -->
        </div>
        </div>
    </section>
    <footer>
        <div id="fontChanger">
            <!-- <img src="./Resources/Images/font-size.svg" alt="字體大小調整"> -->
            <div class="smaller"><img src="./Resources/Images/A-.svg" alt="字變小"></div>
            <div><img src="./Resources/Images/A.svg" alt="一般大小"></div>
            <div class="bigger"><img src="./Resources/Images/A+.svg" alt="字變大"></div>
        </div>
        <div id="input-place">
            <input type="text" placeholder="請輸入提問，建議20字內" id="userInputPlace">
            <button class="btn btn-primary" id="userSubmitBtn">
                送出
                <img src="./Resources/Images/send.svg" alt="送出提問">
            </button>
        </div>
        <div class="card text-white bg-primary" style="width: 8rem;" id="fontChangerCard">
            <div class="card-body">
                <ul>
                    <li>字體大小</li>
                    <li style="font-size: 1.5rem;" class="font-changer-btn">大</li>
                    <li style="font-size: 1.2rem;" class="font-changer-btn">中</li>
                    <li style="font-size: 1rem;" class="font-changer-btn">小</li>
                </ul>
            </div>
        </div>
    </footer>
</body>
<script>
    const fontsizeVersions = [
        "0.8rem","1rem","1.2rem","1.5rem","1.7rem"
    ];
    let preFontsizeIndex = 1;

    $(".msg-datetime").text(moment().format('YYYY/MM/DD HH:mm:ss'));
    //單純前端驗證，暫用
    const pwNum = "70771557";
    const password = sessionStorage.getItem("password");
    if (password != pwNum) {
        window.location.assign("./verify.html");
    }

    if (mobile()) { //mobile函數在msgEvent.js裡面
        console.log('手機模式');
        // $("#fontChanger").addClass("fixtop")
        // $("#userInputPlace").addClass("moblie")
    }
    else {
        console.log('電腦模式');
        $(".recommend-cards").addClass("hasscrollbar")
    }

    $("body").click((e) => {
        $("#fontChangerCard").hide();
        document.oncontextmenu = new Function("return true");
    })

    $("#fontChanger>div").click((e) => {
        // e.stopPropagation();
        // let newFontSize = $(e.currentTarget).css("font-size");
        let newFontsizeIndex = preFontsizeIndex;
        let el = $(e.currentTarget);
        if(el.hasClass("smaller")){
            if(preFontsizeIndex>0) newFontsizeIndex--;
            else return;
        }
        else if(el.hasClass("bigger")){
            if(preFontsizeIndex<fontsizeVersions.length - 1) newFontsizeIndex++;
            else return;
        }
        else{
            newFontsizeIndex = 1;
            if(newFontsizeIndex==preFontsizeIndex) return;
        }
        document.documentElement.style.setProperty("--bs-body-font-size", fontsizeVersions[newFontsizeIndex]);
        preFontsizeIndex = newFontsizeIndex;
        //修改高度
        headerHeight = $("header").height();
            document.documentElement.style.setProperty("--margin-for-header", headerHeight + "px");
    })


    $(function () {
        const cardCount = $('.recommend-cards .card').length;
        $(".recommend-cards .cards-outside").width("calc((18rem + 1rem)*" + cardCount + ")");

        let headerHeight = $("header").height();
        let footerHeight = $("footer").height();
        document.documentElement.style.setProperty("--margin-for-header", headerHeight + "px");
        document.documentElement.style.setProperty("--margin-for-footer", footerHeight + "px");

        // var alertNode = document.querySelector('header .alert');
        // alertNode.addEventListener('closed.bs.alert', function () {
        //     headerHeight = $("header").height();
        //     document.documentElement.style.setProperty("--margin-for-header", headerHeight + "px");

        //     //更改i圖示呈現
        //     $(".info-icon").addClass("closed");
        // })
        
        $(".info-place button").click(()=>{
            $(".info-place").hide();
            headerHeight = $("header").height();
            document.documentElement.style.setProperty("--margin-for-header", headerHeight + "px");
            //更改i圖示呈現
            $(".info-icon").addClass("closed");
        })

        $(".info-icon").click((e)=>{
            $(".info-place").toggle();
            headerHeight = $("header").height();
            document.documentElement.style.setProperty("--margin-for-header", headerHeight + "px");
            //更改i圖示呈現
            $(".info-icon").toggleClass("closed");
        })

        var input = document.getElementById("userInputPlace");
        input.addEventListener("keyup", function (event) {
            event.preventDefault();
            if (event.keyCode === 13) {
                document.getElementById("userSubmitBtn").click();
            }
        });
    })



    $("#userSubmitBtn").click(() => {
        if ($("#userInputPlace").val() == "") {
            alert("請按「公證與認證」或「文件認證轄區限制」，或輸入「我要拋棄繼承」，以進行前端demo測試");
            return;
        }
        doTalk($("#userInputPlace").val(), "multi");
        $("#userInputPlace").val("");
    })

</script>

</html>